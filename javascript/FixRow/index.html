<!DOCTYPE html>
<html lang="en">
  <head>
    <style>
      table,
      th,
      td {
        border: 1px solid black;
      }
    </style>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- <link rel="stylesheet" href="app.css"> -->
    <!-- <script type="text/javascript" src="test.js"></script> -->
    <script
      src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"
      type="text/javascript"
    ></script>
    <title>Test Row</title>
  </head>

  <body>
    <table id="versionMainTable" style="width: 100%">
      <thead>
        <th>#</th>
        <th>Service Name</th>
        <th>Chart Number</th>
        <th>A</th>
        <th>B</th>
        <th>C</th>
        <th>D</th>
        <th>E</th>
        <th>F</th>
        <th>G</th>
        <th>H</th>
        <th>I</th>
        <th>J</th>
      </thead>

      <tr data-useobj="arrTd1">
        <td>1</td>
        <td>activity-registry</td>
        <td>
          <select id="select1" onchange="getValue(this)">
            <option disabled>Chart Version</option>
            <option value="0.1.22" selected>0.1.22</option>
            <option value="0.1.23">0.1.23</option>
            <option value="0.1.29">0.1.29</option>
          </select>
        </td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
      <tr data-useobj="arrTd2">
        <td>2</td>
        <td>emm</td>
        <td>
          <select id="select2" onchange="getValue(this)">
            <option disabled>Chart Version</option>
            <option value="0.1.30" selected>1.0.30</option>
            <option value="0.1.31">1.0.31</option>
            <option value="0.1.32">1.0.32</option>
          </select>
        </td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
        <td></td>
      </tr>
    </table>

    <script type="text/javascript">
      //   // Return no. of row in table
      //   var rowCount = $("#versionMainTable tr").length - 1;
      //   console.log(rowCount);

      // @arrTd <service_count> : This mapping is mandatory for fetch the data.
      var arrTd1 = {
        "0.1.22": [0, 2, 3, 4, 5, 6, 7, 8, 9, 10],
        "0.1.23": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10],
        "0.1.29": [1, "", 3, "", 5, "", 7, "", 9, ""],
      };

      var arrTd2 = {
        "0.1.30": [1, 1, 3, 4, 5, 6, 7, 8, 22, 10],
        "0.1.31": [2, 2, 3, 4, 5, 6, 7, 8, 9, 10],
        "0.1.32": [3, 3, 3, "", 5, "", 7, "", 9, ""],
      };

      // Select values based of chart selection versions
      function getValue(t) {
        const tr = t.closest("tr");
        const cells = tr.querySelectorAll("td");
        let useobj = this[tr.dataset.useobj];
        useobj[t.value].forEach(
          (value, idx) => (cells[idx + 3].innerText = value)
        );
      }

      // Onload it will change selected the selected chart versionq
      $(document).ready(function () {
        var matches = document.querySelectorAll("select");
        matches.forEach((value, idx) => getValue(value));
      });
    </script>
  </body>
</html>
